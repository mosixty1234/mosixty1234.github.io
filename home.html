<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Homepage</title>

   <!-- font awesome cdn link  -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
   <script src="https://kit.fontawesome.com/c92c70a5e9.js" crossorigin="anonymous"></script>

   <!-- custom css file link  -->
   <link rel="stylesheet" href="css/style.css">

</head>

<body>
<header class="header">
   
   <section class="flex">

      <a href="home.html" class="logo animated-logo">
         <span class="letter-color-1">S</span>
         <span class="letter-color-2">T</span>
         <span class="letter-color-3">E</span>
         <span class="letter-color-4">M</span>
         &nbsp;&
         <span class="letter-color-5">T</span>
         <span class="letter-color-6">e</span>
         <span class="letter-color-7">c</span>
         <span class="letter-color-8">h</span>
         &nbsp;ACADEMY
       </a>
       
      <h2 class="animated-heading">Where Youth Discover STEM & Tech:Empowering those who take charge with their future</h2>

      <form action="search.html" method="post" class="search-form">
         <input 
            type="text" 
            name="search_box" 
            id="search-box" 
            required 
            placeholder="Search courses..." 
            maxlength="100" 
            aria-label="Search for courses">
         <button type="submit" class="search-button">
            <i class="fas fa-search" aria-hidden="true"></i>
            <span class="sr-only">Search</span>
         </button>
      </form>

       
      <div class="icons">
         <button id="menu-btn" class="icon-button fas fa-bars" aria-label="Menu"></button>
         <button id="user-btn" class="icon-button fas fa-user" aria-label="User Profile"></button>
         <button id="toggle-btn" class="icon-button fas fa-sun" aria-label="Toggle Theme"></button>
      </div>

      <div class="profile">
         <img src="images/pic-1.png" class="image" alt="profile picture of the user">
         <h3 class="profile-name">User Name</h3>
         <p class="role">Student</p>
         <a href="profile.html" class="btn">view profile</a>

         <div class="flex-btn">
            <a href="login.html" class="option-btn">login</a>
            <a href="register.html" class="option-btn">register</a>
         </div>
      </div>

   </section>

</header>   

<div class="side-bar">

   <div id="close-btn">
      <i class="fas fa-times"></i>
   </div>

   <div class="profile">
      <img src="images/pic-1.png" class="profile-image" alt="Profile picture of Sipho Cedric Dlamini">
      <h3 class="profile-name">Sipho Cedric Dlamini</h3>
      <p class="profile-role">Student</p>
      <a href="profile.html" class="profile-btn">View Profile</a>
   </div>

   <nav class="navbar">
      <a href="home.html" class="nav-link active"><i class="fas fa-house-user"></i><span>HOME</span></a>
      <a href="about.html" class="nav-link"><i class="fas fa-info-circle"></i><span>ABOUT</span></a>
      <a href="courses.html" class="nav-link"><i class="fas fa-book-open"></i><span>COURSES</span></a>
      <a href="contact.html" class="nav-link"><i class="fas fa-envelope-open-text"></i><span>CONTACT-US</span></a>
      <a href="matric.html" class="nav-link"><i class="fas fa-chart-bar"></i><span>Matric Analysis</span></a>
   </nav>
    </div>


<section class="home-grid">

   <h1 class="heading">quick options</h1>

   <div class="box-container">
      <div class="box">
       <h1 class="title">Glossary of Key Terms</h1>

    <div class="glossary-term">
        <h2 class="term-title">Algorithm</h2>
        <p class="term-definition">A step-by-step procedure or formula for solving a problem.</p>
    </div>
    
    <div class="glossary-term">
        <h2 class="term-title">Binary</h2>
        <p class="term-definition">A numbering system that uses only two digits, 0 and 1, often used in computing.</p>
    </div>

    <div class="glossary-term">
        <h2 class="term-title" >Circuit</h2>
        <p class="term-definition">A closed path through which an electric current flows or may flow.</p>
    </div>

    <div class="glossary-term">
        <h2 class="term-title">Data Science</h2>
        <p class="term-definition">A field that uses scientific methods and algorithms to extract insights from data.</p>
    </div>

    <div class="glossary-term">
        <h2 class="term-title">Variable</h2>
        <p class="term-definition">A symbol or name that holds a value in programming or mathematics.</p>
    </div>
   </div>

      <div class="box">
         <h3 class="title">top courses</h3>
         <div class="flex">
            <a href="science.html"><i class="fas fa-flask"></i><span> Science Fundamentals</span></a>

            <a href="mathematics.html"><i class="fas fa-calculator"></i><span> Mathematics</span></a>

            <a href="engineering.html"><i class="fas fa-pen"></i><span>Engineering</span></a>

            <a href="technologyandcomputer.html"><i class="fas fa-desktop"></i><span>Technology and Computer Science</span></a>

            <a href="programmingAndCoding.html"><i class="fas fa-code" aria-hidden="true"></i><span>Programming & Coding</span></a>

            <a href="datascience.html"><i class="fas fa-database"></i><span> Data Science & Analytics</span></a>

            <a href="environmental.html"><i class="fas fa-leaf"></i><span>Environmental Science & Sustainability</span></a>
         </div>
      </div>

      <div class="box">
         <h3 class="title">popular topics</h3>
         <div class="flex">
            <a href="https://machinelearningmastery.com/"><i class="fas fa-brain"></i><span>Artificial Intelligence & Machine Learning</span></a>

            <a href="https://interestingengineering.com/"><i class="fas fa-robot"></i><span>Robotics and Engineering</span></a>
            
            <a href="https://securityboulevard.com/"><i class="fas fa-shield-alt"></i><span>Cybersecurity and Digital Safety</span></a>

            <a href="https://www.geeksforgeeks.org/"><i class="fas fa-laptop-code"></i><span>Web Development and Design</span></a>
            <a href="https://www.kdnuggets.com/"><i class="fas fa-database"></i><span>Data Science and Big Data</span></a>

            <a href="https://www.biotechniques.com/"><i class="fas fa-dna"></i><span>Biotechnology and Genetic Engineering</span></a>
         </div>
      </div>

   </div>

</section>

<section class="courses">

   <h1 class="heading">Our Courses</h1>

   <div class="box-container">
      <div class="box">
         <div class="tutor">
            <img src="images/pic-2a.jpg" alt="">
            <div class="info">
               <h3>Science Fundamentals</h3>
               <span>02-01-2025</span>
            </div>
         </div>
         <div class="thumb">
            <img src="images/thumb-1.png" alt="">
            <span>videos</span>
         </div>
         <h3 class="title">Science lessons</h3>
         <a href="playlist-1.html" class="inline-btn">view playlist</a>
         
      </div>

      <div class="box">
         <div class="tutor">
            <img src="images/pic-3.jpg" alt="">
            <div class="info">
               <h3>Mathematics</h3>
               <span>02-01-2025</span>
            </div>
         </div>
         <div class="thumb">
            <img src="images/thumb-2a.jpg" alt="">
            <span>videos</span>
         </div>
         <h3 class="title">Mathematics lessons</h3>
         <a href="playlist-2.html" class="inline-btn">view playlist</a>
      </div>

      <div class="box">
         <div class="tutor">
            <img src="images/pic-3.jpg" alt="">
            <div class="info">
               <h3>Engineering</h3>
               <span>02-01-2025</span>
            </div>
         </div>
         <div class="thumb">
            <img src="images/thumb-3a.jpg" alt="">
            <span>videos</span>
         </div>
         <h3 class="title">Engineering lessons</h3>
         <a href="playlist-3.html" class="inline-btn">view playlist</a>
      </div>

      <div class="box">
         <div class="tutor">
            <img src="images/pic-5a.jpg" alt="">
            <div class="info">
               <h3>Technology and Computer Science</h3>
               <span>02-01-2025</span>
            </div>
         </div>
         <div class="thumb">
            <img src="images/thumb-4a.jpg" alt="">
            <span>videos</span>
         </div>
         <h3 class="title">Technology and Computer Science lessons</h3>
         <a href="playlist-4.html" class="inline-btn">view playlist</a>
      </div>

      <div class="box">
         <div class="tutor">
            <img src="images/pic-6a.jpg" alt="">
            <div class="info">
               <h3>Programming and Coding</h3>
               <span>02-01-2025</span>
            </div>
         </div>
         <div class="thumb">
            <img src="images/thumb-5a.jpg" alt="">
            <span>videos</span>
         </div>
         <h3 class="title">Programming and Coding lessons</h3>
         <a href="playlist-5.html" class="inline-btn">view playlist</a>
      </div>

      <div class="box">
         <div class="tutor">
            <img src="images/pic-7a.jpg" alt="">
            <div class="info">
               <h3>Data Science and Analysis</h3>
               <span>02-01-2025</span>
            </div>
         </div>
         <div class="thumb">
            <img src="images/thumb-6a.jpg" alt="">
            <span>videos</span>
         </div>
         <h3 class="title">Data Science and Analysis lessons</h3>
         <a href="playlist-6.html" class="inline-btn">view playlist</a>
      </div>
 </div>
 

   <div class="more-btn">
      <a href="courses.html" class="inline-option-btn">view all courses</a>
   </div>

</section>

</body>

<footer class="footer">
   <div class="footer-content">
      <h2>STEM & Tech Academy</h2>
      <p>&copy; 2024 STEM & Tech Academy | All Rights Reserved</p>
      <div class="social-icons">
         <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
         <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
         <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
         <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
      </div>
   </div>
</footer>

<!-- custom js file link  -->
<script>
document.addEventListener('DOMContentLoaded', async () => {
   const token = localStorage.getItem('token');

   if (!token) {

      return;
   }

   try {
      const response = await fetch('http://localhost:3000/api/getUserDetails', {
         method: 'GET',
         headers: {
            'Authorization': `Bearer ${token}`,
         },
      });

      if (response.ok) {
         const user = await response.json();
         console.log('User details fetched from API:', user);

         document.querySelectorAll('.profile img').forEach(img => {
                const imageUrl = user.profilePictureUrl && user.profilePictureUrl.startsWith('http')
                    ? user.profilePictureUrl
                    : `http://localhost:3000/uploads/${user.profilePictureUrl}`;
                console.log('Setting profile picture URL to:', imageUrl);
                img.src = imageUrl || 'images/pic-1.png';
                img.alt = `Profile picture of ${user.name || 'User'}`;
            });
         // Update all profile names (h3 tags inside profile divs)
         document.querySelectorAll('.profile h3').forEach(name => {
            name.textContent = user.name || 'User Name';
         });

         // Update all emails if needed (optional)
         const emailInput = document.querySelector('input[name="email"]');
         if (emailInput) emailInput.value = user.email || '';

         const nameInput = document.querySelector('input[name="name"]');
         if (nameInput) nameInput.value = user.name || '';

      } else {
         const error = await response.json();
         console.error('Error fetching user details:', error.error || response.statusText);
         alert(error.error || 'Failed to fetch user details. Please try again later.');
      }
   } catch (error) {
      console.error('Error:', error);
      alert('An unexpected error occurred. Please try again later.');
   }
});

</script>

</html>